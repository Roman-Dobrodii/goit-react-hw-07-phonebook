(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{46:function(t,e,n){},84:function(t,e,n){"use strict";n.r(e);var c,a,r=n(0),o=n(10),s=n.n(o),i=n(9),u=n(3),l=n(4),d=n(35),b=n(8),j=Object(u.b)("contacts/addRequest"),h=Object(u.b)("contacts/addSuccess"),f=Object(u.b)("contacts/addError"),m=Object(u.b)("contacts/removeRequest"),O=Object(u.b)("contacts/removeSuccess"),C=Object(u.b)("contacts/aremoverror"),p=Object(u.b)("contactfetchRequest"),g=Object(u.b)("contacts/fetchSuccess"),v=Object(u.b)("contacts/fetchError"),x={removeContactRequest:m,removeContactSuccess:O,removeContactError:C,addContactError:f,addContactSuccess:h,addContactRequest:j,changeFilter:Object(u.b)("contact/changeFilter"),fetchContactsRequest:p,fetchContactsSuccess:g,fetchContactsError:v},S=Object(u.c)([],(c={},Object(l.a)(c,x.fetchContactsSuccess,(function(t,e){return e.payload})),Object(l.a)(c,x.addContactSuccess,(function(t,e){return[].concat(Object(d.a)(t),[e.payload])})),Object(l.a)(c,x.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),y=Object(u.c)("",Object(l.a)({},x.changeFilter,(function(t,e){return e.payload}))),N=Object(u.c)(!1,(a={},Object(l.a)(a,x.addContactRequest,(function(){return!0})),Object(l.a)(a,x.addContactSuccess,(function(){return!1})),Object(l.a)(a,x.addContactError,(function(){return!1})),Object(l.a)(a,x.removeContactRequest,(function(){return!0})),Object(l.a)(a,x.removeContactSuccess,(function(){return!1})),Object(l.a)(a,x.removeContactError,(function(){return!1})),a)),F=Object(b.c)({items:S,filter:y,loading:N}),E=Object(u.a)({reducer:{contacts:F}}),w=(n(46),n(15)),q=n(16),R=n(18),k=n(17),I=n(34),A=n.n(I),L=n(1),B=function(){return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("h1",{className:"mainTitle",children:"Phonebook"})})},M=n(12),T=n(85),D=n(19),J=n.n(D),P={addContact:function(t,e){return function(n){n(x.addContactRequest()),J.a.post("http://localhost:2000/contacts",{name:t,number:e}).then((function(t){console.log(t),n(x.addContactSuccess(t.data))})).catch((function(t){return n(x.addContactError(t))}))}},fetchContacts:function(){return function(t){t(x.fetchContactsRequest()),J.a.get("http://localhost:2000/contacts").then((function(e){var n=e.data;return t(x.fetchContactsSuccess(n))})).catch((function(e){return t(x.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(x.removeContactRequest()),J.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){return e(x.removeContactSuccess(t))})).catch((function(t){return e(x.removeContactError(t))}))}}},_=n(14),z=function(t){return t.contacts.filter},G=function(t){return t.contacts.items},H={getLoading:function(t){return t.contacts.loading},getFilter:z,getContacts:G,getContactById:Object(_.a)([function(t,e){return e},G],(function(t,e){return e.find((function(e){return e.id===t}))})),getContactsFiltered:Object(_.a)([G,z],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},K=function(t){Object(R.a)(n,t);var e=Object(k.a)(n);function n(){var t;Object(w.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).formInitialState={name:"",number:""},t.state=Object(M.a)(Object(M.a)({},t.formInitialState),{},{alertMessageShow:!1}),t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(l.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number;if(t.props.contacts.find((function(t){return t.name===c})))return t.setState({alertMessageShow:!0}),t.setState(Object(M.a)({},t.formInitialState));t.props.onAddContact(c,a),t.setState({name:"",number:""})},t.toggleAlert=function(){t.setState({alertMessageShow:!1})},t}return Object(q.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.alertMessageShow;return Object(L.jsxs)("section",{className:"wrapper",children:[Object(L.jsx)(T.a,{in:c,timeout:250,classNames:"alertFade",unmountOnExit:!0,children:Object(L.jsx)("button",{className:"alertMessage",onClick:this.toggleAlert,children:Object(L.jsx)("p",{children:"Contact already exists"})})}),Object(L.jsxs)("form",{onSubmit:this.handleSubmit,className:"form",children:[Object(L.jsxs)("label",{children:["Name",Object(L.jsx)("input",{className:"input",type:"text",name:"name",value:e,onChange:this.handleChange,placeholder:"Enter name"})]}),Object(L.jsxs)("label",{children:["Number",Object(L.jsx)("input",{className:"input",type:"tel",value:n,onChange:this.handleChange,name:"number",placeholder:"Enter number"})]}),Object(L.jsx)("button",{type:"submit",className:"addContact-button",children:"Add contact"})]})]})}}]),n}(r.Component),Q={onAddContact:P.addContact},U=Object(i.b)((function(t){return{contacts:H.getContacts(t),filter:H.getFilter(t)}}),Q)(K);var V=Object(i.b)((function(t){return{value:H.getFilter(t)}}),(function(t){return{onChange:function(e){return t(x.changeFilter(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(L.jsx)("div",{className:"find-input_frame ",children:Object(L.jsx)("label",{children:Object(L.jsx)("input",{className:"input",type:"text",value:e,onChange:n})})})})),W=Object(i.b)((function(t,e){var n=H.getContactById(t,e.id);return Object(M.a)({},n)}),(function(t,e){return{deleteContact:function(n){return t(P.removeContact(e.id))}}}))((function(t){var e=t.id,n=t.name,c=t.number,a=t.deleteContact;return Object(L.jsxs)("li",{className:"contact",children:[Object(L.jsx)("span",{children:n}),Object(L.jsx)("span",{children:c}),Object(L.jsx)("button",{className:"deleteBtn",type:"button",onClick:function(){return a(e)},children:"x"})]})})),X=n(86),Y=Object(i.b)((function(t){return{items:H.getContactsFiltered(t),contacts:H.getContacts(t)}}))((function(t){var e=t.items,n=t.contacts;return Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:n.length>0&&0===e.length?Object(L.jsx)("h4",{children:"...Nothing Found"}):Object(L.jsx)(X.a,{component:"ul",className:"contacts-list",children:e.map((function(t){var e=t.id;return Object(L.jsx)(T.a,{classNames:"taskList-fade",timeout:250,unmountOnExit:!0,children:Object(L.jsx)(W,{id:e})},e)}))})})})),Z=function(t){Object(R.a)(n,t);var e=Object(k.a)(n);function n(){var t;Object(w.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={showContacts:!1},t}return Object(q.a)(n,[{key:"render",value:function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)(T.a,{in:!0,appear:!0,classNames:"mainTitle-slideIn",timeout:5e3,unmountOnExit:!0,children:Object(L.jsx)(B,{})}),Object(L.jsx)(U,{}),Object(L.jsx)(T.a,{in:this.props.filteredContacts.length>1||this.props.contacts.length>1,timeout:250,classNames:"findContact",unmountOnExit:!0,children:Object(L.jsx)(V,{})}),Object(L.jsx)(Y,{}),this.props.IsLoadingContacts&&Object(L.jsx)(A.a,{style:{display:"flex ",justifyContent:"center"},type:"ThreeDots",color:"#00BFFF",height:80,width:80})]})}}]),n}(r.Component),$={onFetchContacts:P.fetchContacts},tt=Object(i.b)((function(t){return{filteredContacts:H.getContactsFiltered(t),IsLoadingContacts:H.getLoading(t),filter:H.getFilter(t),contacts:t.contacts.items}}),$)(Z);s.a.render(Object(L.jsx)("div",{children:Object(L.jsx)(i.a,{store:E,children:Object(L.jsx)(tt,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.24b4873e.chunk.js.map